<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> java8 Function how to use · RainZhao</title><meta name="description" content="java8 Function how to use - 赵宇"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.png"><link rel="stylesheet" href="/css/apollo.css"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="RainZhao"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/rainzhao" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/rainzhao" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><aside id="article-toc" role="navigation" class="fixed"><div id="article-toc-inner"><strong class="sidebar-title">目录
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#拼接字符串"><span class="toc-number">1.</span> <span class="toc-text">拼接字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#元素是否存在"><span class="toc-number">2.</span> <span class="toc-text">元素是否存在</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找list中的某个元素，并返回此元素"><span class="toc-number">3.</span> <span class="toc-text">查找list中的某个元素，并返回此元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结："><span class="toc-number">4.</span> <span class="toc-text">总结：</span></a></li></ol></strong></div></aside><div class="lookeye"><span id="busuanzi_container_page_pv"></span>Viewd<span id="busuanzi_value_page_pv"> </span>times<img src="/eye.png"></div><article class="post-block"><h1 class="post-title">java8 Function how to use</h1><div class="post-info">Jan 28, 2019</div><div class="post-content"><blockquote>
<p>Function&lt;T,R&gt; 接口，内置的函数接口，其接受两个参数，一个入参T，一个出参R</p>
</blockquote>
<h3 id="拼接字符串"><a href="#拼接字符串" class="headerlink" title="拼接字符串"></a>拼接字符串</h3><p>举例：假如一个方法是用来拼接字符串的，需要的入参是String类型的，出参也是String类型的。<br>非java8时你可能会这样写：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">appendStr</span><span class="params">(String oriStr, String appendStr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> oriStr + appendStr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用；</span></span><br><span class="line">String result = appendStr(<span class="string">"hello"</span>, <span class="string">" world !"</span>);</span><br></pre></td></tr></table></figure></p>
<p>从上面可以明确的看出 它的入参和出参都是String，用Function就可以这样写：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">appendStr</span><span class="params">(String oriStr, Function&lt;String, String&gt; strFunction)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> strFunction.apply(oriStr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用：</span></span><br><span class="line">String result = appendStr(<span class="string">"hello"</span>, (x) -&gt; x + <span class="string">" world !"</span>);</span><br></pre></td></tr></table></figure>
<p>上面举了一个比较简单的例子，便于理解Function接口的使用。</p>
<h3 id="元素是否存在"><a href="#元素是否存在" class="headerlink" title="元素是否存在"></a>元素是否存在</h3><p>举例：查找某一个元素是否在列表中存在</p>
<p>非java8 时你可能会这样写：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">boolean</span> <span class="title">isExist</span><span class="params">(Collection&lt;T&gt; list, T t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (CollectionUtils.isEmpty(list)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (T t1 : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (t1.equals(t)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>从上面可以看到，需要传入一个list，和要查询的目标值，这样判断逻辑都在其中，不利于扩展，其实我们只需要知道一个元素是否在这个元素是否在这个list中，在的话返回true，不在的话返回false， 所以我们可以把具体的操作抽象为一个返回值为Boolean的接口，具体的实现由具体的实现类去实现或内部类去实现。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个接口</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Predicate</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">test</span><span class="params">(T t)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @FunctionalInterface 表名它是一个函数式接口，确保该接口只有一个抽象方法。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(Collection&lt;T&gt; list, Predicate match)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (CollectionUtils.isEmpty(list)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (T t : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (match.test(t)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用</span></span><br><span class="line">List&lt;String&gt; list = Arrays.asList(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>);</span><br><span class="line"><span class="keyword">boolean</span> result1 = exist(list, (x) -&gt; x.equals(<span class="number">30</span>));</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">boolean</span> result2 = exist(list, <span class="keyword">new</span> Predicate() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 这里的o相当于list遍历时的每个元素</span></span><br><span class="line">        <span class="keyword">return</span> o.equals(<span class="number">30</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>上面我们已经将判断的部分抽象为了接口，将判断的逻辑放在了传参出，内部只需要知道你的结果是true还是false就足够了，可以看到这个接口需要一个入参为T，返回参数为Boolean，这时Function恰好可以满足，我们就不必自定义函数接口了。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">boolean</span> <span class="title">isExist</span><span class="params">(Collection&lt;T&gt; list, Function&lt;T, Boolean&gt; function)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (CollectionUtils.isEmpty(list)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (T t : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (function.apply(t)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用：</span></span><br><span class="line">List&lt;Integer&gt; oriList = Arrays.asList(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>);</span><br><span class="line"><span class="keyword">boolean</span> exist = isExist(oriList, x -&gt; x.equals(<span class="number">30</span>));</span><br></pre></td></tr></table></figure>
<h3 id="查找list中的某个元素，并返回此元素"><a href="#查找list中的某个元素，并返回此元素" class="headerlink" title="查找list中的某个元素，并返回此元素"></a>查找list中的某个元素，并返回此元素</h3><p><strong>举一反三，如何查询一个元素是否存在于某个list中呢？如果存在的话则返回这个元素</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">findData</span><span class="params">(Collection&lt;T&gt; list, Function&lt;T, Boolean&gt; function)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (CollectionUtils.isEmpty(list)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (T t : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (function.apply(t)) &#123;</span><br><span class="line">            <span class="keyword">return</span> t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>Function&lt;T,R&gt; 函数式接口，T代表入参，R代表出参，当你的函数有出参和入参时都可使用此接口，当然java8还提供了许多类似的函数式接口来方便我们的使用，以后再来总结。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2019/01/30/学习/" class="prev">PREV</a><a href="/2019/01/23/java反射/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = '2019/01/28/java8-Function-how-to-use/';
var disqus_title = 'java8 Function how to use';
var disqus_url = 'http://yoursite.com/2019/01/28/java8-Function-how-to-use/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>© 2019 <a href="http://yoursite.com">赵宇</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>